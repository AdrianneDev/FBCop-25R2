<template>
	<qp-template name="7-10-7" id="headerTemplate" class="equal-height">
		<qp-fieldset id="headerForm" view.bind="Document" slot="A">
			<field name="WorkgroupID"></field>
			<field name="Week"></field>
		</qp-fieldset>

		<qp-fieldset id="headerFilter" view.bind="Filter" wg-container="Filter_headerFilter" slot="B">
			<field name="ProjectID"></field>
			<field name="ProjectTaskID"></field>
			<field name="Day"></field>
		</qp-fieldset>

		<qp-fieldset id="headerTime" view.bind="Filter" wg-container="Filter_headerFilter" caption="Total" class="highlights-section" slot="C">
			<field name="TotalTime" caption="Time Spent"></field>
			<field name="TotalBillableTime" caption="Billable"></field>
		</qp-fieldset>
	</qp-template>

	<qp-tabbar id="tab">
		<qp-tab id="tab_0" caption="Time Activities">
			<qp-grid id="TimeActivities_gridTimeActivities" wg-container view.bind="TimeActivities" on-filter-changed.call="onFilterChanged(args)"></qp-grid>
		</qp-tab>

		<qp-tab id="tab_1" caption="Crew Members">
			<qp-template name="17-17-14" id="glTemplate" class="label-size-m">
				<qp-fieldset id="membersForm_0" wg-container="Filter_membersForm" view.bind="Filter" slot="A">
					<field name="TotalWorkgroupMembers"></field>
				</qp-fieldset>
				<qp-fieldset id="membersForm_0" wg-container="Filter_membersForm" view.bind="Filter" slot="B">
					<field name="TotalWorkgroupMembersWithActivities"></field>
				</qp-fieldset>
			</qp-template>
			<qp-grid id="WorkgroupTimeSummary_gridWorkgroupMembers" wg-container view.bind="WorkgroupTimeSummary"></qp-grid>
		</qp-tab>

		<qp-tab id="tab_2" caption="Totals">
			<qp-template name="7-17" id="DocumentFormTotals">
				<div slot="A" class="v-stack">
					<qp-fieldset id="headerFilter_1" view.bind="Filter" wg-container="Filter_headerFilter" caption="Regular" class="highlights-section">
						<field name="RegularTime" caption="Time Spent"></field>
						<field name="BillableTime" caption="Billable"></field>
					</qp-fieldset>
					<qp-fieldset id="headerFilter_2" view.bind="Filter" wg-container="Filter_headerFilter" caption="Overtime" class="highlights-section">
						<field name="Overtime" caption="Time Spent"></field>
						<field name="BillableOvertime" caption="Billable"></field>
					</qp-fieldset>
				</div>
			</qp-template>
		</qp-tab>
	</qp-tabbar>

	<qp-panel id="CompanyTreeMembers" wg-container="Filter_bulkForm" caption="Mass Time Entry" auto-repaint="true" width="lg" height="80vh">
		<qp-fieldset id="bulkForm" view.bind="Filter" class="no-label transparent-section">
			<field name="ShowAllMembers"></field>
		</qp-fieldset>
		<qp-splitter id="splitterId" split="width" initial-split="30%">
			<split-pane>
				<qp-grid id="gridCompanyTreeMembers" wg-container="CompanyTreeMembers_gridCompanyTreeMembers" view.bind="CompanyTreeMembers"></qp-grid>
			</split-pane>
			<split-pane>
				<qp-grid id="gridBulkEntryTimeActivities" wg-container="BulkEntryTimeActivities_gridBulkEntryTimeActivities" view.bind="BulkEntryTimeActivities"></qp-grid>
			</split-pane>
		</qp-splitter>
		<footer>
			<qp-button id="btnAdd" caption="Add" state.bind="InsertForBulkTimeEntry"></qp-button>
			<qp-button id="btnAddClose" wg-container="CompanyTreeMembers_gridCompanyTreeMembers" caption="Add & Close" dialog-result="OK"></qp-button>
			<qp-button id="btnCancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
</template>
