<template>
	<qp-template id="form" name="1-1" class="equal-height label-size-m" wg-container="ProcessingCenter_form">
		<qp-fieldset id="columnFirstGroupHead" view.bind="ProcessingCenter" slot="A">
			<field name="ProcessingCenterID"></field>
			<field name="Name"></field>
			<field name="IsActive"></field>
		</qp-fieldset>
		<qp-fieldset id="columnSecondGroupHead" view.bind="ProcessingCenter" slot="B">
			<field name="CashAccountID"></field>
			<field name="CashAccount.CuryID"></field>
			<field name="ProcessingTypeName"></field>
		</qp-fieldset>
	</qp-template>

	<qp-tabbar id="tabs">
		<qp-tab id="tabPluginParameters" caption="Plug-In Parameters">
			<qp-grid id="gridDetails" view.bind="Details" wg-container="Details_grdDetails"></qp-grid>
		</qp-tab>

		<qp-tab id="tabPaymentMethods" caption="Payment Methods">
			<qp-grid id="gridPaymentMethods" view.bind="PaymentMethods" wg-container="PaymentMethods_grdPaymentMethods"></qp-grid>
		</qp-tab>

		<qp-tab id="tabPreferences" caption="Preferences">
			<qp-template id="formPreferences" name="1-1">
				<div id="columnFirstPreferences" class="label-size-m" slot="A">

					<qp-fieldset id="groupPaymentProfiles" view.bind="CurrentProcessingCenter"
								 caption="Payment Profiles" wg-container="ProcessingCenter_form">

						<field name="AllowSaveProfile"></field>
						<field name="SyncronizeDeletion"></field>
						<field name="UseAcceptPaymentForm"></field>

						<using wg-container="CurrentProcessingCenter_tab">
							<field name="CreateAdditionalCustomerProfiles"></field>
							<field name="CreditCardLimit"></field>
						</using>

						<field name="AllowDirectInput"></field>
					</qp-fieldset>
					<qp-fieldset id="groupPaymentProcessing" view.bind="CurrentProcessingCenter"
								 wg-container="ProcessingCenter_form" caption="Payment Processing">

						<field name="AcceptPOSPayments"></field>
						<field name="AllowUnlinkedRefund"></field>
						<field name="AllowPayLink"></field>
						<field name="AllowAuthorizedIncrement"></field>
					</qp-fieldset>
				</div>
				<div id="columnSecondPreferences" slot="B" class="label-size-m">
					<qp-fieldset id="groupConnection" view.bind="CurrentProcessingCenter" caption="Connection" wg-container="CurrentProcessingCenter_tab">
						<field name="OpenTranTimeout"></field>
						<field name="SyncRetryAttemptsNo"></field>
						<field name="SyncRetryDelayMs"></field>
					</qp-fieldset>

					<qp-fieldset id="groupReauthorization" view.bind="CurrentProcessingCenter" caption="Reauthorization" wg-container="CurrentProcessingCenter_tab">
						<field name="ReauthRetryNbr"></field>
						<field name="ReauthRetryDelay"></field>
					</qp-fieldset>

					<qp-fieldset id="groupSettlement" view.bind="CurrentProcessingCenter" caption="Settlement" wg-container="CurrentProcessingCenter_tab">
						<field name="ImportSettlementBatches"></field>
						<field name="ImportStartDate"></field>
						<field name="LastSettlementDate"></field>
						<field name="DepositAccountID"></field>
						<field name="AutoCreateBankDeposit"></field>
					</qp-fieldset>
				</div>
			</qp-template>
		</qp-tab>

		<qp-tab id="tabFees" caption="Fees">
			<qp-grid id="gridFeeTypes" view.bind="FeeTypes" wg-container="FeeTypes_grdFeeTypes"></qp-grid>
		</qp-tab>

		<qp-tab id="tabPaymentLinks" caption="Payment Links" wg-container="CurrentProcessingCenter_tab"
				if.bind="CurrentProcessingCenter.AllowPayLink.value == true">
			<qp-template id="formPaymentLinks" name="1-1" class="label-size-m">
				<qp-fieldset slot="A" id="panelPaymentLinks" view.bind="CurrentProcessingCenter">
					<field name="AllowPartialPayment"></field>
					<field name="AttachDetailsToPayLink"></field>
					<field name="WebhookID"></field>
					<field name="DocTypeForSOPayLink"></field>
				</qp-fieldset>
			</qp-template>
			<qp-grid id="gridProcCenterBranch" view.bind="ProcCenterBranch"></qp-grid>
		</qp-tab>

		<qp-tab id="tabPOSTerminals" caption="POS Terminals" if.bind="CurrentProcessingCenter.AcceptPOSPayments.value == true">
			<qp-grid id="gridTerminals" wg-container="PosTerminals_grdPosTerminals" view.bind="POSTerminals"></qp-grid>
		</qp-tab>
	</qp-tabbar>

</template>
