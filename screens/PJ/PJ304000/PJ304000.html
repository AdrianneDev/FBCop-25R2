<template>
	<require from="../../PM/common/pm-status-colors-common.scss"></require>
	<qp-template name="17-17-14" class="equal-height" id="DailyFieldReport_form" wg-container qp-collapsible>
		<qp-fieldset slot="A" id="form01" view.bind="DailyFieldReport">
			<field name="DailyFieldReportCd"></field>
			<field name="Status" class="colored" pinned="false"></field>
			<field name="Date"></field>
			<field name="ProjectId" config-allow-edit.bind="true"></field>
			<field name="ProjectManagerId"></field>
			<field name="CreatedById"></field>
		</qp-fieldset>
		<qp-fieldset slot="B" id="form02" view.bind="DailyFieldReport">
			<field name="SiteAddress" pinned></field>
			<field name="City" pinned></field>
			<field name="CountryId"></field>
			<field name="State"></field>
			<field name="PostalCode" pinned>
				<qp-button id="btnViewAddressOnMap"
					state.bind="ViewAddressOnMap"
					caption="View on Map"
					class="col-auto"
					pinned></qp-button>
			</field>
			<field name="Latitude"></field>
			<field name="Longitude"></field>
		</qp-fieldset>
		<qp-fieldset slot="C" id="form03" view.bind="DailyFieldReport">
			<field name="TemperatureLevel" pinned></field>
			<field name="Humidity" pinned></field>
			<field name="TimeObserved_Time" config-time-mode.bind="true" pinned></field>
			<field name="Icon"
				caption=""
				control-type="qp-image-view"
				show.bind="!!DailyFieldReport.Icon.value"
				config.bind="{ height: '100px', width: '100px' }"></field>
		</qp-fieldset>
	</qp-template>
	<qp-tabbar id="tab">
		<qp-tab id="LaborTimeAndActivitiesTab" caption="Labor Time And Activities">
			<qp-grid id="gridEmployeeActivities" view.bind="EmployeeActivities"></qp-grid>
		</qp-tab>
		<qp-tab id="ProgressWorksheetsTab" caption="Progress Worksheets">
			<qp-grid id="ProgressWorksheetLines_ProgressWorksheetLinesGrid" view.bind="ProgressWorksheetLines"></qp-grid>
		</qp-tab>
		<qp-tab id="ChangeRequestsTab" caption="Change Requests">
			<qp-grid id="gridChangeRequests" view.bind="ChangeRequests"></qp-grid>
		</qp-tab>
		<qp-tab id="ChangeOrdersTab" caption="Change Orders">
			<qp-grid id="gridChangeOrders" view.bind="ChangeOrders"></qp-grid>
		</qp-tab>
		<qp-tab id="SubcontractorsTab" caption="Subcontractors">
			<qp-grid id="gridSubcontractors" view.bind="Subcontractors"></qp-grid>
		</qp-tab>
		<qp-tab id="ProjectIssuesTab" caption="Project Issues">
			<qp-grid id="gridProjectIssues" view.bind="ProjectIssues"></qp-grid>
		</qp-tab>
		<qp-tab id="PhotoLogsTab" caption="Photo Logs">
			<qp-splitter id="splitterId"
						 split="width"
						 initial-split="50%"
						 state="normal"
						 class="equal-height">
				<split-pane>
					<qp-grid id="gridPhotoLogs" view.bind="PhotoLogs"></qp-grid>
				</split-pane>
				<split-pane>
					<qp-caption caption="Main Photo Preview"></qp-caption>
					<qp-image-view state.bind="MainPhoto.ImageUrl" value.two-way="MainPhoto.ImageUrl.value" aspect-ratio="auto 4/3.6" object-fit="contain"></qp-image-view>
				</split-pane>
			</qp-splitter>
		</qp-tab>
		<qp-tab id="NotesTab" caption="Notes">
			<qp-grid id="gridNotes" view.bind="Notes"></qp-grid>
		</qp-tab>
		<qp-tab id="MaterialsTab" caption="Materials">
			<qp-grid id="gridMaterials" view.bind="PurchaseReceipts"></qp-grid>
		</qp-tab>
		<qp-tab id="EquipmentTab" caption="Equipment">
			<qp-grid id="gridEquipment" view.bind="Equipment"></qp-grid>
		</qp-tab>
		<qp-tab id="WeatherTab" caption="Weather">
			<qp-grid id="gridWeather" view.bind="Weather"></qp-grid>
		</qp-tab>
		<qp-tab id="VisitorsTab" caption="Visitors">
			<qp-grid id="gridVisitors" view.bind="Visitors"></qp-grid>
		</qp-tab>
		<qp-tab id="EmployeeExpensesTab" caption="Employee Expenses">
			<qp-grid id="gridEmployeeExpenses" view.bind="EmployeeExpenses"></qp-grid>
		</qp-tab>
		<qp-tab id="tabApprovals" caption="Approvals" ref="tabApprovals_Content"></qp-tab>
		<qp-tab id="HistoryTab" caption="History">
			<qp-grid id="gridHistory" view.bind="History"></qp-grid>
		</qp-tab>
	</qp-tabbar>
	<qp-panel id="CostBudgets" caption="Add Budget Lines" auto-repaint="true" width="lg" height="85vh">
		<qp-template name="17-17-14" id="costBudgetfilter_formSelectBudgetLines" wg-container class="equal-height">
			<qp-fieldset slot="A" id="formSelectBudgetLines01" view.bind="costBudgetfilter">
				<field name="TaskID"></field>
				<field name="AccountGroupID"></field>
				<field name="InventoryID"></field>
			</qp-fieldset>
			<qp-fieldset slot="B" id="formSelectBudgetLines02" view.bind="costBudgetfilter">
				<field name="CostCodeFrom"></field>
				<field name="CostCodeTo"></field>
			</qp-fieldset>
		</qp-template>
		<qp-grid id="gridCostBudgetLines" view.bind="CostBudgets">
		</qp-grid>
		<footer>
			<qp-button id="PXButton6" state.bind="AddSelectedBudgetLines"></qp-button>
			<qp-button id="PXButton7" caption="Add & Close" dialog-result="OK"></qp-button>
			<qp-button id="PXButton8" caption="Cancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
</template>
