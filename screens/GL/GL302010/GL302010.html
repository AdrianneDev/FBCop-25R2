<template>
	<qp-template id="formFilter" name="1-1" class="equal-height label-size-m" qp-collapsible wg-container="Filter_form">
		<qp-fieldset id="columnFirst-formFilter" view.bind="Filter" slot="A">
			<field name="BranchID"></field>
			<field name="LedgerId"></field>
			<field name="FinYear"></field>
			<field name="ShowTree"></field>
		</qp-fieldset>
		<qp-fieldset id="columnSecond-formFilter" view.bind="Filter" slot="B">
			<field name="CompareToBranchID" pinned></field>
			<field name="CompareToLedgerID" pinned></field>
			<field name="CompareToFinYear" pinned></field>
			<field name="SubIDFilter"></field>
			<field name="TreeNodeFilter"></field>
		</qp-fieldset>
	</qp-template>
	<qp-splitter id="splitterGLBudgetTree" initial-split="15%" class="stretch" disable-collapse.bind="true" disabled.bind="!Filter.ShowTree.value"
		splitter-state.bind="Filter.ShowTree.value ? 'normal' : 'collapsed-first'">
		<split-pane>
			<qp-tree id="tree" view.bind="Tree"></qp-tree>
		</split-pane>
		<split-pane>
			<qp-grid id="grid" view.bind="BudgetArticles" on-filter-columns.call="onFilterBudgetArticlesColumns(col)"></qp-grid>
		</split-pane>
	</qp-splitter>

	<qp-panel id="DistrFilter" caption="Distribute Year Amount by Periods" auto-repaint="true">
		<qp-template id="formDistributeYearAmountByPeriods" name="1" wg-container="DistrFilter_DistributePrm">
			<qp-fieldset slot="A" id="panelDistributeYearAmountByPeriods" view.bind="DistrFilter">
				<field name="Method"></field>
				<field name="ApplyToAll"></field>
				<field name="ApplyToSubGroups"></field>
			</qp-fieldset>
		</qp-template>
		<footer>
			<qp-button id="buttonOk-formDistributeYearAmountByPeriods" dialog-result="OK" caption="OK" state.bind="distributeOK" wg-name="Ok"></qp-button>
			<qp-button id="buttonCancel-formDistributeYearAmountByPeriods" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="ManageDialog" caption="Manage Budget" auto-repaint="true">
		<qp-info-box id="infoboxMessage" caption.bind="ManageDialog.Message.value" type="info"></qp-info-box>
		<qp-template id="formManageBudget" name="1" wg-container="ManageDialog_ManagePrm">
			<qp-fieldset slot="A" id="panelManageBudget" view.bind="ManageDialog">
				<field name="Method"></field>
			</qp-fieldset>
		</qp-template>
		<footer>
			<qp-button id="buttonOk-formManageBudget" dialog-result="OK"></qp-button>
			<qp-button id="buttonCancel-formManageBudget" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>

	<qp-panel id="BudgetArticles" centering-height="600px">
		<qp-wizard id="wizardBudgetArticles" config.bind="wizardConfig" wg-container="PreloadFilter_PXWizard1" caption="Preload Budget Articles">
			<qp-tab id="tabWizardBudgetArticles-SourceParameters" caption="Select the source parameters">
				<qp-info-box caption="This wizard allows you to preload the budget articles from the actual ledger or from another budget." type="info"></qp-info-box>
				<qp-template id="formWizardBudgetArticles-SourceParameters" name="1" wg-container="PreloadFilter_formPanel">
					<qp-fieldset slot="A" id="panelWizard-SourceParameters" view.bind="PreloadFilter">
						<field name="branchID"></field>
						<field name="ledgerID"></field>
						<field name="finYear"></field>
						<field name="changePercent"></field>
					</qp-fieldset>
				</qp-template>
			</qp-tab>
			<qp-tab id="tabWizardBudgetArticles-Accounts" caption="Select the range of accounts and the account/subaccount masks">
				<qp-info-box caption="All existing accounts/subaccounts will be preloaded if no account/subaccount mask is specified." type="info"></qp-info-box>
				<qp-template id="formWizardBudgetArticles-Accounts" name="1" wg-container="PreloadFilter_formPanel">
					<qp-fieldset slot="A" id="panelWizard-Accounts" view.bind="PreloadFilter">
						<field name="fromAccount"></field>
						<field name="toAccount"></field>
						<field name="AccountIDFilter"></field>
						<field name="SubIDFilter"></field>
					</qp-fieldset>
				</qp-template>
			</qp-tab>
			<qp-tab id="tabWizardBudgetArticles-PreloadAction" caption="Specify the action for the articles already entered for the budget">
				<qp-template id="formWizardBudgetArticles-PreloadAction" name="1" wg-container="PreloadFilter_formPanel">
					<qp-fieldset slot="A" id="panelWizard-PreloadAction" view.bind="PreloadFilter">
						<field name="PreloadAction" class="no-label"></field>
					</qp-fieldset>
				</qp-template>
			</qp-tab>
		</qp-wizard>
	</qp-panel>
</template>
