<template>
    <qp-template name="1-1" id="Bindings_form" wg-container class="label-size-m">
        <qp-fieldset id="summaryFirstColumn" view.bind="Bindings" slot="A">
            <field name="ConnectorType"></field>
            <field name="BindingName"></field>
        </qp-fieldset>
        <qp-fieldset id="summarySecondColumn" view.bind="Bindings" slot="B" class="no-label">
            <field name="IsActive"></field>
            <field name="IsDefault"></field>
        </qp-fieldset>
    </qp-template>

    <!-- Tabs -->
    <qp-tabbar active-tab-id="tabConnectionSettings" id="CurrentStore_tab" wg-container class="label-size-m">

        <qp-tab id="tabConnectionSettings" caption="General">
            <qp-template name="1-1" id="tabConnectionSettingsTemplate">
                <div slot="A" class="v-stack">
                    <qp-fieldset id="CurrentBindingShopify_frmCurrentBindingShopify1"
                                 view.bind="CurrentBindingShopify"
                                 caption="Connection"
                                 wg-container>
                        <field name="ShopifyApiBaseUrl"></field>
                        <field name="ShopifyAccessToken"></field>
                        <field name="StoreSharedSecret"></field>
                    </qp-fieldset>
                    <qp-fieldset id="CurrentBinding_PXFormView1" view.bind="CurrentBinding" caption="Miscellaneous" wg-container>
                        <field name="LocaleName"></field>
                        <field name="BindingAdministrator"></field>
                    </qp-fieldset>
                </div>
                <div slot="B" class="v-stack label-size-m">
                    <qp-fieldset id="CurrentBindingShopify_frmStorePreferences" view.bind="CurrentBindingShopify" caption="Store Properties" wg-container>
                        <field name="ShopifyStoreUrl"></field>
                        <field name="ShopifyApiVersion"></field>
                        <div id="CurrentStore_frmCurrencyZone" wg-container>
                            <field name="CurrentStore.DefaultStoreCurrency"></field>
                            <field name="CurrentStore.SupportedCurrencies"></field>
                            <field name="CurrentStore.StoreTimeZone"></field>
                        </div>
                        <using wg-container="CurrentBindingShopify_PXFormView22">
                            <field name="ShopifyStorePlan"></field>
                        </using>
                    </qp-fieldset>
                    <qp-fieldset id="groupStoreAdministratorDetails" view.bind="CurrentBinding" caption="License Restrictions" wg-container="CurrentBinding_frmOther">
                        <field name="AllowedStores"></field>
                    </qp-fieldset>
                </div>
            </qp-template>
        </qp-tab>

        <qp-tab id="tabEntitySettings" caption="Entities">
            <qp-grid id="CstPXGrid60" view.bind="Entities"></qp-grid>
        </qp-tab>

        <qp-tab id="tabCustomerSettings" caption="Customers" class="label-size-m">
			<qp-template name="1-1" id="frmCustomerSettings">
                <qp-fieldset id="groupCustomerA" view.bind="CurrentStore" caption="Customer" slot="A">
					<field name="CustomerClassID" control-type="qp-selector" config-allow-edit.bind="true"></field>
					<field name="CustomerTemplate"></field>
					<field name="CustomerNumberingID" config-allow-edit.bind="true"></field>
					<field name="LocationTemplate"></field>
					<field name="LocationNumberingID" config-allow-edit.bind="true"></field>
					<field name="GuestCustomerID" config-allow-edit.bind="true"></field>
					<field name="MultipleGuestAccounts"></field>
				</qp-fieldset>
				<qp-fieldset slot="A" id="frmGroupB2BCustomer" view.bind="CurrentBindingShopify" caption="B2B Customer" class="no-label" wg-container>
					<field name="ImportCompanyContactsAsCustomers"></field>
				</qp-fieldset>
                <qp-fieldset id="groupCustomerB" view.bind="CurrentBindingShopify" slot="B" class="no-label">
                    <field name="MandatoryExportPaymentTerms"></field>
                </qp-fieldset>
                <qp-grid id="gridPaymentTerms" slot="B" 
                            view.bind="PaymentTerms"
                            caption="Payment Terms"
                            class="framed-section">
                </qp-grid>
			</qp-template>
        </qp-tab>

        <qp-tab id="tabInventorySettings" caption="Inventory" class="label-size-m">
            <qp-template name="1-1" id="frmInventorySettings">
                <qp-fieldset id="groupInventorySettings" view.bind="CurrentStore" caption="Export Settings" slot="A">
                    <using wg-container="CurrentBindingShopify_frmCurrentBindingShopify3">
                        <field name="CurrentBindingShopify.CombineCategoriesToTags"></field>
                    </using>
                    <field name="Visibility"></field>
                    <field name="Availability"></field>
                    <field name="NotAvailMode"></field>
                    <field name="AvailabilityCalcRule"></field>
                    <field name="WarehouseMode"></field>
                </qp-fieldset>
                <qp-grid id="gridExportLocations"
                         view.bind="ExportLocations"
                         caption="Warehouse Mapping for Inventory Export"
                         class="framed-section"
                         slot="A">
                </qp-grid>
                <qp-fieldset id="groupImportSettings" view.bind="CurrentStore" caption="Import Settings" class="label-size-xm" slot="B">
                    <field name="InventoryNumberingID" config-allow-edit.bind="true"></field>
                    <field name="InventoryTemplate"></field>
                    <field name="ProductItemClassSubstitutionListID" config-allow-edit.bind="true"></field>
                    <field name="StockItemClassID" config-allow-edit.bind="true"></field>
                    <field name="NonStockItemClassID" config-allow-edit.bind="true"></field>
                </qp-fieldset>
            </qp-template>
        </qp-tab>

        <qp-tab id="tabOrderSettings" caption="Orders">
            <qp-template name="1-1" id="frmOrderSettings">
                <div slot="A" id="frmOrderSettingsFirstColumn">
                    <qp-fieldset id="BranchFieldset" view.bind="CurrentBinding" wg-container="CurrentBinding_frmCurrentBinding1">
                        <field name="BranchID" config-allow-edit.bind="true"></field>
                    </qp-fieldset>
                    <qp-fieldset id="groupOrder" view.bind="CurrentStore" caption="Order">
                        <field name="OrderType" config-allow-edit.bind="true"></field>
                        <field name="OtherSalesOrderTypes"></field>
                        <field name="ReturnOrderType" config-allow-edit.bind="true"></field>
                        <field name="RefundAmountItemID" config-allow-edit.bind="true"></field>
                        <field name="ReasonCode" config-allow-edit.bind="true"></field>
                        <field name="OrderTimeZone"></field>
                        <field name="PostDiscounts"></field>
                        <field name="ImportOrderRisks"></field>
                        <field name="HoldOnRiskStatus"></field>
                        <field name="GiftCertificateItemID" config-allow-edit.bind="true"></field>
                        <field name="SyncOrdersFrom"></field>
                        <using wg-container="CurrentBindingShopify_PXFormView234" if.bind="CurrentBindingShopify.ShopifyPOS.visible == true">
                            <field name="CurrentBindingShopify.ShopifyPOS"></field>
                        </using>
                        <field name="SyncOrderNbrToStore"></field>
                        <field name="AllowOrderEdit"></field>
                        <field name="UseExternalCurrencyForOrderImport"></field>
                    </qp-fieldset>

                    <qp-grid id="gridImportLocations"
                                view.bind="ImportLocations"
                                class="framed-section col-12"
                                caption="Warehouse Mapping for Order Import"></qp-grid>
                </div>
                <div slot="B" id="frmOrderSettingsSecondColumn">
                    <qp-fieldset id="groupTaxes" view.bind="CurrentStore" caption="Taxes">
                        <field name="TaxSynchronization"></field>
                        <field name="DefaultTaxZoneID" config-allow-edit.bind="true"></field>
                        <field name="UseAsPrimaryTaxZone"></field>
                    </qp-fieldset>
                    <qp-fieldset id="groupSubstitutionLists" view.bind="CurrentStore" caption="Substitution Lists">
                        <field name="TaxSubstitutionListID" config-allow-edit.bind="true"></field>
                        <field name="TaxCategorySubstitutionListID" config-allow-edit.bind="true"></field>
                        <field name="ShippingCarrierListID" config-allow-edit.bind="true"></field>
                        <field name="PaymentTermsListID" config-allow-edit.bind="true"></field>
                    </qp-fieldset>
                    <qp-fieldset id="CurrentBindingShopify_PXFormView234_direct"
                                 view.bind="CurrentBindingShopify"
                                 caption="Direct POS Orders"
                                 if.bind="CurrentBindingShopify.ShopifyPOS.visible == true">
                        <using wg-container="CurrentBindingShopify_PXFormView2342">
                            <field name="POSDirectOrderType" config-allow-edit.bind="true"></field>
                            <field name="POSDirectExchangeOrderType" config-allow-edit.bind="true"></field>
                        </using>
                    </qp-fieldset>
                    <qp-fieldset id="CurrentBindingShopify_PXFormView234_shipping"
                                 view.bind="CurrentBindingShopify"
                                 caption="Shipped POS Orders"
                                 if.bind="CurrentBindingShopify.ShopifyPOS.visible == true">
                        <using wg-container="CurrentBindingShopify_PXFormView2343">
                            <field name="POSShippingOrderType" config-allow-edit.bind="true"></field>
                            <field name="POSShippingExchangeOrderType" config-allow-edit.bind="true"></field>
                        </using>
                    </qp-fieldset>
					<qp-fieldset id="CurrentBindingShopify_SalesQuoteOrders"
								 view.bind="CurrentBindingShopify"
								 caption="Sales Quote Orders"
								 wg-container>
						<field name="QuoteOrderType" config-allow-edit.bind="true"></field>
						<field name="ExportQuoteOrderTypes" config-allow-edit.bind="true"></field>
						<field name="EarliestQuoteOrderDate"></field>
					</qp-fieldset>
				</div>
            </qp-template>
        </qp-tab>

        <qp-tab id="tabPaymentSettings" caption="Payments">
            <qp-resizer id="resizer-gridFields" min-size="250px">
                <qp-grid id="PaymentsMethods" view.bind="PaymentMethods"></qp-grid>
            </qp-resizer>
            <qp-grid id="FeeMappings"
                        view.bind="FeeMappings"
                        caption="Payment Fees"
                        wg-container="FeeMappings_FeeMappings"></qp-grid>
        </qp-tab>

        <qp-tab id="tabShippingSettings" caption="Shipping">
            <qp-grid id="PXGrid1"
                     view.bind="ShippingMappings"></qp-grid>
        </qp-tab>

    </qp-tabbar>
</template>
