<template>
	<require from="./pj302000-status-colors.scss"></require>
	<qp-template id="ProjectIssue_form" name="14-17-17" class="equal-height" qp-collapsible wg-container>
		<qp-fieldset id="formSlotA" slot="A" view.bind="ProjectIssue">
			<field name="ProjectIssueCd" pinned></field>
			<field name="ClassId" pinned config-allow-edit.bind="true"></field>
			<field name="Status" class="colored" pinned="false"></field>
			<field name="ConvertedTo" config-allow-edit.bind="true"></field>
			<field name="ProjectIssueTypeId"></field>
			<field name="PriorityId" config-display-mode.bind="'id'"></field>
		</qp-fieldset>
		<qp-fieldset id="formSlotB" slot="B" view.bind="ProjectIssue">
			<field name="ProjectId" pinned></field>
			<field name="ProjectTaskId" pinned></field>
			<field name="OwnerID"></field>
			<field name="WorkgroupID"></field>
			<field name="RefNoteIDType"></field>
			<field name="RefNoteID"></field>
			<field name="Summary" pinned config-rows.bind="3"></field>
		</qp-fieldset>
		<qp-fieldset slot="C" id="formSlotC" view.bind="ProjectIssue" class="label-size-m">
			<field name="CreationDate_Date" pinned>
				<qp-field id="creationDateTimeEdit"
					control-state.bind="ProjectIssue.CreationDate_Time"
					class="col-md-4"
					config-time-mode.bind="true"></qp-field>
			</field>
			<field name="CreatedById" config-display-mode.bind="'text'"></field>
			<field name="DueDate" pinned></field>
			<field name="ResolvedOn" pinned></field>
			<field name="ScheduleImpact">
				<qp-field slot="label"
						  control-state.bind="ProjectIssue.IsScheduleImpact">
				</qp-field>
			</field>
			<field name="CostImpact">
				<qp-field slot="label"
						  control-state.bind="ProjectIssue.IsCostImpact">
				</qp-field>
			</field>
		</qp-fieldset>
	</qp-template>
	<qp-tabbar id="CurrentProjectIssue_tab" wg-container>
		<qp-tab id="DetailsTab" caption="Details">
			<qp-rich-text-editor id="edCurrentProjectIssueDescription"
								 state.bind="CurrentProjectIssue.Description"
								 class="stretch"
								 wg-field></qp-rich-text-editor>
		</qp-tab>
		<qp-tab id="ActivitiesTab" caption="Activities" ref="tabActivities_Content" class="fit-to-content"></qp-tab>
		<qp-tab id="AttributesTab" caption="Attributes">
			<qp-grid id="gridAttributes" view.bind="Attributes"></qp-grid>
		</qp-tab>
		<qp-tab id="DrawingsTab" caption="Drawings">
			<qp-grid id="PXDrawingsGrid" view.bind="LinkedDrawingLogs"></qp-grid>
		</qp-tab>
	</qp-tabbar>
	<qp-panel id="DrawingLogs" caption="Add Drawing Log" auto-repaint="true" width="lg" height="85vh">
		<qp-grid id="PXDrawingLogsGrid" view.bind="DrawingLogs"></qp-grid>
		<footer>
			<qp-button id="PXButton6" state.bind="LinkDrawingLogToEntity"></qp-button>
			<qp-button id="PXButton7" dialog-result="OK" caption="Add & Close"></qp-button>
			<qp-button id="PXButton8" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="DrawingLogsAttachments" caption="Drawing Log Document Attachments" auto-repaint="true" width="lg">
		<qp-grid id="GridDrawingLogsAttachments" view.bind="DrawingLogsAttachments"></qp-grid>
	</qp-panel>
</template>
